# 모니터링
## 모니터링의 이점
- 운영 문제에 미리 대응 가능
- 성능과 신뢰성 개선
- 보안 위협 및 이벤트 인지
- 데이터에 기반한 의사 결정
- 비용 효율적인 솔루션 생성

## Amazon CloudWatch
> 모니터링 및 관찰 웹서비스
- AWS 및 온프레미스 인프라와 리소스를 실시간 모니터링
- 단일 위치에서 모든 지표에 액세스
- 경보 대응 자동화

### CloudWatch 지표
> 시스템 성능에 대한 데이터

### CloudWatch Logs
> EC2 인스턴스, Lambda 등과 같은 리소스에서 로그를 저장, 모니터링 및 액세스 가능
- 로그 데리터를 쿼리하고 필터링 가능

### CloudWatch 경보
> 지속적인 지표 상태가 바뀌는 경우 작업을 자동으로 수행

### CloudWatch 대시보드
> AWS 서비스가 프로비저닝되어 CloudWatch로 지표를 전송하기 시작하면 CloudWatch 대시보드에서 데이터를 시각화하여 검토할 수 있음

# 로드 밸런싱
## Elastic Laod Balancing (ELB)
> 수신되는 애플리케이션 트래픽을 여러 대상으로 자동 분산함

### ELB의 이점
- 고가용성 및 탄력성
- 보안
- 기능 적용 범위
- 강력한 모니터링을 통해 상태 파악
- 간편한 통합 및 전세계 어디서나 사용 가능

### ELB 구성 요소
- `리스너`: 연결 요청을 확인하는 프로세스
- `대상 그룹`: 트래픽을 전송하는 리소스들 모음. 각 대상 그룹에는 상태 확인 정의가 있어야 함
- `규칙`: 대상 그룹의 소스 IP 주소와 리소스를 정의하는 연결 지침 집합

### ELB 유형
#### Application Load Balancer (ALB)
  - HTTP, HTTPS 트래픽의 로드 밸런싱에 적합
  - 요청 수준(계층 7)에서 작동
  - EC2 인스턴스, 컨테이너, IP 주소, Lambda 등의 대상으로 트래픽 라우팅
  - 보안, TLS 오프로드, 스티키 세션, 리디렉션, 고정 응답, 콘텐츠 기반 라우팅
#### Network Load Balancer (NLB)
  - UCP 및 UDP 트래픽의 로드 밸런싱에 적합
  - 연결 수준(계층 4)에서 작동
  - IP 프로토콜 데이터를 기준으로 VPC의 대상으로 연결 라우팅
  - 스티키 세션, 짧은 지연시간, 소스 IP 주소 보존, 고정 IP 지원, 탄력적 IP 주소 지원, DNS 장애 조치
#### Gateway Load Balancer (GLB)
  - 서드 파티 가상 어플라이언스를 배포 및 관리하고 크기 조정 가능
  - 서드 파티 가상 어플라이언스의 가용성 개선, 상태 및 성능 지표 모니터링, AWS Marketplace에서 간편하게 배포 가능, Gateway Load Balancer 엔드포인트를 사용하여 AWS 클라우드에서 프라이빗 연결 설정

## 크기 조정
### 수직적 크기 조정
  > 수요 트래픽에 따라 메모리, 하드 디스크 공간 등의 서버 용량을 업그레이드하거나 다운그레이드하는 프로세스
### 수평적 크기 조정
  > 트래픽 수요에 따라 EC2 인스턴스를 자동적으로 추가 또는 제거

### EC2 Auto Scaling
- EC2 인스턴스를 자동으로 추가 및 제거하여 애플리케이션 가용성은 높이고 인프라 비용은 줄일 수 있음
- 자동 축소 및 확장, 크기 조정 시기와 방법 서낵, 플릿 관리, 예측 크기 조정, 여러 구매 모델 인스턴스 유형 및 가용 영역 지원, Amazon EC2에 포함

## 조정 정책
> CloudWatch 지표와 경보를 사용하여 작업을 트리거함
- `단순 조정 정책`, `단계 조정 정책`, `대상 추적 조정 정책`