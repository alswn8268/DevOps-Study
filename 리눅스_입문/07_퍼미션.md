# 7.1 파일 및 디렉터리 퍼미션 확인

## 7.1.1 퍼미션의 필요성

- 유닉스/리눅스의 모든 파일과 디렉터리는 퍼미션들의 집합으로 구성됨, 이 퍼미션들은 시스템 상에 존재하는 파일들에 대한 읽기, 쓰기, 실행에 대한 접근 여부 결정
- ``ls -l`` 또는 ``ls -n``으로 확인

## 7.1.2 퍼미션의 카테고리
`- rwx rwx rwx`
- 순서대로 파일의 속성 / 사용자 권한 / 그룹 권한 / 기타사용자 권한
- r은 read(읽기), w는 write(쓰기), x는 execute(실행)

### 7.1.2.1 심볼릭 모드의 변경

```
[vagrant@user01 ~]$ chmod o-r fileB # 기타 사용자에게 fillB 읽기 권한 삭제
[vagrant@user01 ~]$ ls -l fileB # fileB 확인
-rw-r-----. 1 vagrant vagrant 0 Oct 10 12:34 fileB
```

### 7.1.2.2 8진수 모드의 변경

> -r w x r w x r w x
>  4 2 1 4 2 1 4 2 1

-> 예를 들어 777이면 모두에게 모든 권한을, 666이면 모두에게 실행만을 제외한 권한을 부여

```
[vagrant@user01 ~]$ chmod 777 fileB # 모든 권한 부여
[vagrant@user01 ~]$ ls -l fileB
-rwxrwxrwx. 1 vagrant vagrant 0 Oct 10 12:34 fileB
```


```
[vagrant@user01 ~]$ touch testfile # testfile 생성
[vagrant@user01 ~]$ ls -l testfile 
-rw-r--r--. 1 vagrant vagrant 0 Oct 14 02:25 testfile # 644 권한
```

```
[vagrant@user01 ~]$ mkdir testDir # testDir 디렉터리 생성
[vagrant@user01 ~]$ ls -ld testDir
drwxr-xr-x. 2 vagrant vagrant 6 Oct 14 02:27 testDir # 755 권한
```

- `umask`: 그룹과 사용자의 권한 제거
  ex) umask 022 
    -> 666 - 022 = 644 권한이 됨

```
[vagrant@user01 ~]$ umask
0022
```
* 새로 로그인한 환경에서는 (새 세션에서는) 바꾼 값이 적용이 안 되므로 특정 파일(.bashrc)에 따로 지정해야 함

```
[vagrant@user01 ~]$ umask 027 # umask를 027로 변경
[vagrant@user01 ~]$ touch newFile
[vagrant@user01 ~]$ mkdir newDir
[vagrant@user01 ~]$ ls -l newFile
-rw-r-----. 1 vagrant vagrant 0 Oct 14 02:32 newFile
[vagrant@user01 ~]$ ls -ld newDir/
drwxr-x---. 2 vagrant vagrant 6 Oct 14 02:32 newDir/
[vagrant@user01 ~]$
```