# 11.1 ë„¤íŠ¸ì›Œí¬ ì •ë³´ í™•ì¸
## 11.1.1 ip ëª…ë ¹
- ë¼ìš°íŒ…, ì¥ì¹˜ì— ëŒ€í•œ ì„¤ì •ì„ ì¡°ì •í•˜ê±°ë‚˜ ë³´ì—¬ì£¼ëŠ” ëª…ë ¹
- ì„œë¸Œ ì»¤ë§¨ë“œë¥¼ ì…ë ¥í•  ë•Œ ì „ì²´ë¥¼ ì™„ë²½í•˜ê²Œ ì…ë ¥í•˜ì§€ ì•Šê³  ê²¹ì¹˜ì§€ ì•ŠëŠ” ì¼ë¶€ ë¶€ë¶„ê¹Œì§€ë§Œ ì…ë ¥í•´ë„ ì •ìƒìœ¼ë¡œ ì¸ì‹
> ip [subcommand1] [subcommand2]... [argument]

### ip a

```
[vagrant@nmcli ~]$ ip a
1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo # ë£¨í”„ë°± 
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host
       valid_lft forever preferred_lft forever
2: enp0s3: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP group default qlen 1000
    link/ether 08:00:27:ed:ab:98 brd ff:ff:ff:ff:ff:ff
    inet 10.0.2.15/24 brd 10.0.2.255 scope global dynamic noprefixroute enp0s3 # NAT
       valid_lft 86299sec preferred_lft 86299sec
    inet6 fd17:625c:f037:2:a00:27ff:feed:ab98/64 scope global dynamic mngtmpaddr
       valid_lft 86301sec preferred_lft 14301sec
    inet6 fe80::a00:27ff:feed:ab98/64 scope link
       valid_lft forever preferred_lft forever
```
## 11.1.2 ifconfig
- ì „í†µì ìœ¼ë¡œ ë¦¬ëˆ…ìŠ¤ ì‹œìŠ¤í…œì—ì„œ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬ì„±í•˜ê±°ë‚˜ í™•ì¸í•˜ê¸° ìœ„í•œ ìš©ë„ë¡œ ì‚¬ìš©í•œ ëª…ë ¹
- ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ í™œì„±í™” ë˜ëŠ” ë¹„í™œì„±í™”ì‹œí‚¤ê±°ë‚˜ ë„¤íŠ¸ì›Œí¬ ì„¤ì •ì„ ë³€ê²½í•  ìˆ˜ë„ ìˆìŒ
> ifconfig [interface-name]
```
[vagrant@nmcli ~]$ ifconfig
enp0s3: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 10.0.2.15  netmask 255.255.255.0  broadcast 10.0.2.255
        inet6 fe80::a00:27ff:feed:ab98  prefixlen 64  scopeid 0x20<link>
        inet6 fd17:625c:f037:2:a00:27ff:feed:ab98  prefixlen 64  scopeid 0x0<global>
        ether 08:00:27:ed:ab:98  txqueuelen 1000  (Ethernet)
        RX packets 986  bytes 114250 (111.5 KiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 784  bytes 125756 (122.8 KiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

lo: flags=73<UP,LOOPBACK,RUNNING>  mtu 65536
        inet 127.0.0.1  netmask 255.0.0.0
        inet6 ::1  prefixlen 128  scopeid 0x10<host>
        loop  txqueuelen 1000  (Local Loopback)
        RX packets 0  bytes 0 (0.0 B)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 0  bytes 0 (0.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
```

## 11.1.3 ë¼ìš°íŒ… í…Œì´ë¸” í™•ì¸
- ë¼ìš°íŒ…ì€ ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ ë°ì´í„°ë¥¼ ì „ì†¡í•  ë•Œ ë°ì´í„°ë¥¼ ë³´ë‚¼ ê²½ë¡œë¥¼ ì„ íƒí•˜ëŠ” ê³¼ì •
- í•œ ì‹œìŠ¤í…œì— ì„œë¡œ ë‹¤ë¥¸ ë„¤íŠ¸ì›Œí¬ë¡œ ì—°ê²°ëœ ì—¬ëŸ¬ ê°œì˜ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ê°€ ì¡´ì¬í•  ê²½ìš°, ë°ì´í„°ë¥¼ ì „ì†¡í•  ë•Œ ì–´ë–¤ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¡œ ì „ì†¡í• ì§€ ê²°ì •í•´ì•¼ í•¨
-> ì´ëŸ¬í•œ ìƒí™©ì—ì„œ ë°ì´í„° ì „ì†¡ì˜ ê²½ë¡œë¥¼ ê²°ì •í•˜ëŠ” ê¸°ì¤€ì´ **ë¼ìš°íŒ… í…Œì´ë¸”**

```
[vagrant@nmcli ~]$ ip route # ë¼ìš°íŒ… ê²½ë¡œë¥¼ í™•ì¸í•˜ê¸° ìœ„í•œ ip ëª…ë ¹
default via 10.0.2.2 dev enp0s3 proto dhcp src 10.0.2.15 metric 100 # ê¸°ë³¸ ê²½ë¡œ, ê²Œì´íŠ¸ì›¨ì´ ì£¼ì†Œ, ìš°ì„  ìˆœìœ„ ë“±
10.0.2.0/24 dev enp0s3 proto kernel scope link src 10.0.2.15 metric 100

[vagrant@nmcli ~]$ route
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
default         _gateway        0.0.0.0         UG    100    0        0 enp0s3
10.0.2.0        0.0.0.0         255.255.255.0   U     100    0        0 enp0s3
```

## 11.1.4 ë„¤íŠ¸ì›Œí¬ ì—°ê²° í™•ì¸
- ë„¤íŠ¸ì›Œí¬ë¥¼ êµ¬ì„±í•œ í›„ ë„¤íŠ¸ì›Œí¬ê°€ ì •ìƒì ìœ¼ë¡œ ì—°ê²°ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ê±°ë‚˜, ì™¸ë¶€ ëª©ì ì§€ë¡œ ì—°ê²° ì‹œ ì—°ê²° ê²½ë¡œë¥¼ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŒ
- ê²½ë¡œ í™•ì¸ì— ì‚¬ìš©ë˜ëŠ” ëª…ë ¹ì€ `traceroute` ë˜ëŠ” `tracepath` ëª…ë ¹ìœ¼ë¡œ, ëª©ì ì§€ì— ICMP ìš”ì²­ ì‹œ IP í”„ë¡œí† ì½œì˜ í—¤ë”ë¥¼ ì¡°ì‘í•˜ì—¬ ëª©ì ì§€ê¹Œì§€ ë„ë‹¬í•˜ê¸° ìœ„í•œ ë„¤íŠ¸ì›Œí¬ì˜ ì¤‘ê°„ ì§€ì ì„ í™•ì¸ ê°€ëŠ¥

### traceroute 
- ëª©ì ì§€ê¹Œì§€ ê°€ëŠ” ë¼ìš°í„° ê²½ë¡œë¥¼ ì¶œë ¥í•˜ëŠ” ëª…ë ¹
- ë§Œì•½ ë„¤íŠ¸ì›Œí¬ê°€ ì •í™•í•˜ê²Œ ì„¤ì •ì´ ë˜ì–´ ìˆì§€ ì•Šê±°ë‚˜ ì˜ëª»ëœ ì£¼ì†Œë¥¼ ì…ë ¥í•˜ê²Œ ë˜ë©´ ê²°ê³¼ê°€ ì¶œë ¥ë˜ì§€ ì•Šì„ ìˆ˜ ìˆìŒ
- root ì‚¬ìš©ìë§Œì´ ì‚¬ìš© ê°€ëŠ¥í•œ ì˜µì…˜ë“¤ì´ ì¡´ì¬
> traceroute [option] destination

### tracepath
- tracerouteì™€ ê°™ì€ ê¸°ëŠ¥ì„ í•˜ëŠ” ëª…ë ¹ìœ¼ë¡œ, tracerouteì— ë¹„í•´ ê²°ê³¼ ê°’ì„ ì¡°ê¸ˆ ë” ê°„ê²°í•˜ê²Œ ì¶œë ¥
> tracepath [option] destination

```
tracepath 8.8.8.8
traceroute 8.8.8.8
```

# 11.2 ë„¤íŠ¸ì›Œí¬ ê´€ë¦¬ì
## 11.2.1 nmcli(Network Manager Command Line Interface)
- ë„¤íŠ¸ì›Œí¬ ê´€ë¦¬ìê°€ ì œê³µí•˜ëŠ” ê°€ì¥ ê°•ë ¥í•œ ì»¤ë§¨ë“œë¼ì¸ ë„êµ¬
```
[vagrant@nmcli ~]$ nmcli
enp0s3: connected to enp0s3
        "Red Hat Virtio"
        ethernet (virtio_net), 08:00:27:ED:AB:98, hw, mtu 1500
        ip4 default
        inet4 10.0.2.15/24
        route4 10.0.2.0/24 metric 100
        route4 default via 10.0.2.2 metric 100
        inet6 fd17:625c:f037:2:a00:27ff:feed:ab98/64
        inet6 fe80::a00:27ff:feed:ab98/64
        route6 fe80::/64 metric 256
        route6 default via fe80::2 metric 1024
        route6 fd17:625c:f037:2::/64 metric 256
```
```
[vagrant@nmcli ~]$ nmcli con show
NAME    UUID                                  TYPE      DEVICE 
enp0s3  53663641-fc96-4c9b-a390-fdc1aa6967cd  ethernet  enp0s3
lo      6447695a-7d1b-4b7a-9026-87a6b0e84961  loopback  lo

[vagrant@nmcli ~]$ nmcli connection show enp0s3
connection.id:                          enp0s3
connection.uuid:                        53663641-fc96-4c9b-a390-fdc1aa6967cd
connection.stable-id:                   --
connection.type:                        802-3-ethernet
...
```
```
[vagrant@nmcli ~]$ sudo nmcli connection add type ethernet con-name "my-dynamic" ifname enp0s3 autoconnect yes
Connection 'my-dynamic' (7b8dda18-d45a-4623-8dfe-ecc6d61fe6c0) successfully added.
[vagrant@nmcli ~]$ sudo nmcli connection add type ethernet con-name "my-static" ifname enp0s3 ipv4.method manual ipv4.addresses 192.168.1.100/24 ipv4.gateway 192.168.1.1
Connection 'my-static' (77841ec4-f370-47ce-8898-0af880a69859) successfully added.

[vagrant@nmcli ~]$ nmcli connection show
NAME        UUID                                  TYPE      DEVICE 
enp0s3      53663641-fc96-4c9b-a390-fdc1aa6967cd  ethernet  enp0s3
lo          6447695a-7d1b-4b7a-9026-87a6b0e84961  loopback  lo
my-dynamic  7b8dda18-d45a-4623-8dfe-ecc6d61fe6c0  ethernet  --
my-static   77841ec4-f370-47ce-8898-0af880a69859  ethernet  --

[vagrant@nmcli ~]$ sudo nmcli con modify my-static ipv4.dns "8.8.8.8 1.1.1.1"
```

![alt text](image-7.png)

## nmtui
![alt text](image-8.png)

# 11.4 í˜¸ìŠ¤íŠ¸ì´ë¦„(hostname) ì„¤ì •
- IP ì£¼ì†Œ ëŒ€ì‹  ì˜ë¯¸ ìˆëŠ” ë‹¨ì–´ì˜ í˜•íƒœë¡œ ì£¼ì†Œë¥¼ ì…ë ¥í•˜ê³ , ì…ë ¥í•œ ì£¼ì†Œë¥¼ ë‹¤ì‹œ IP ì£¼ì†Œë¡œ ë³€í™˜í•˜ëŠ” ë°©ì‹
- ì‹œìŠ¤í…œì˜ í˜¸ìŠ¤íŠ¸ ì´ë¦„ì„ í™•ì¸í•˜ëŠ” ê¸°ë³¸ ëª…ë ¹ì€ `hostname`
- `hostname` ëª…ë ¹ ë’¤ì— ì¸ìë¥¼ ì…ë ¥í•˜ì—¬ í˜¸ìŠ¤íŠ¸ ì´ë¦„ì„ ë³€ê²½í•  ìˆ˜ ìˆì§€ë§Œ ì‹œìŠ¤í…œì´ ì¬ë¶€íŒ…ë˜ë©´ ë‹¤ì‹œ ì´ì „ì˜ í˜¸ìŠ¤íŠ¸ ì´ë¦„ìœ¼ë¡œ ë³€ê²½ë¨
```
[vagrant@nmcli ~]$ hostname
nmcli

[vagrant@nmcli ~]$ hostnamectl
 Static hostname: nmcli
       Icon name: computer-vm
         Chassis: vm ğŸ–´
      Machine ID: aadf5d0d34da49718f3f95cc36adf5f6
         Boot ID: e44b8b671b9149fca37727a39b2607e7
  Virtualization: oracle
Operating System: Rocky Linux 9.5 (Blue Onyx)
     CPE OS Name: cpe:/o:rocky:rocky:9::baseos
          Kernel: Linux 5.14.0-503.33.1.el9_5.x86_64
    Architecture: x86-64
 Hardware Vendor: innotek GmbH
  Hardware Model: VirtualBox
Firmware Version: VirtualBox
```
## 11.4.1 í˜¸ìŠ¤íŠ¸ ì´ë¦„ ë¶„ë¥˜
- í˜¸ìŠ¤íŠ¸ ì´ë¦„ì€ `static`, `transient`, `pretty` ì„¸ ê°€ì§€ ë°©ì‹ìœ¼ë¡œ ë¶„ë¥˜ë¨

|ë¶„ë¥˜|ì„¤ëª…|
|---|---|
|static í˜¸ìŠ¤íŠ¸ ì´ë¦„|ì‚¬ìš©ìê°€ ì§€ì •í•œ ì •ì ì¸ í˜¸ìŠ¤íŠ¸ ì´ë¦„, `/etc/hostname` íŒŒì¼ì— ì €ì¥|
|transient í˜¸ìŠ¤íŠ¸ ì´ë¦„|ì»¤ë„ì´ ìœ ì§€ ê´€ë¦¬í•˜ëŠ” ë™ì  í˜¸ìŠ¤íŠ¸ ì´ë¦„, `static` í˜¸ìŠ¤íŠ¸ ì´ë¦„ë³´ë‹¤ ìš°ì„  ìˆœìœ„ê°€ ë‚®ìŒ, DHCPë‚˜ mDNSë¡œ ë³€ê²½ë  ìˆ˜ ìˆìŒ|
|pretty í˜¸ìŠ¤íŠ¸ ì´ë¦„|ììœ  í˜•ì‹ì˜ UTF-8ë¡œ ì¸ì½”ë”©ëœ í˜¸ìŠ¤íŠ¸ ì´ë¦„, ê¸¸ì´ì™€ ë¬¸ìì— ëŒ€í•œ ì œí•œì´ ê±°ì˜ ì—†ìŒ, íŠ¹ìˆ˜ë¬¸ì í‘œí˜„ ê°€ëŠ¥|

```
[vagrant@nmcli ~]$ sudo hostnamectl set-hostname "rocky9"
[vagrant@nmcli ~]$ hostname
rocky9
[vagrant@nmcli ~]$ cat /etc/hostname
rocky9

[vagrant@nmcli ~]$ sudo hostnamectl hostname nnmcli
[vagrant@nmcli ~]$ cat /etc/hostname
nnmcli
```

```
[vagrant@nmcli ~]$ cat /etc/hosts # ë„ë©”ì¸ ì´ë¦„ì„ IPë¡œ ë°”ê¾¸ê¸° ì „ì— ê°€ì¥ ë¨¼ì € ì°¸ê³ í•˜ëŠ” ì£¼ì†Œë¡ê°™ì€ íŒŒì¼
127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4
::1         localhost localhost.localdomain localhost6 localhost6.localdomain6
127.0.1.1 nmcli nmcli
```

