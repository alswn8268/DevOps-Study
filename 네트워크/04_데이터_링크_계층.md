# 4.1 데이터 링크 계층 개요
## 4.1.1 데이터 링크 계층 개요
  - OSI 7계층 모델의 두 번째 계층으로, 물리 계층에서 받은 정보를 잘못된 정보 없이 안전하게 전달하는 역할
  - 데이터의 프레임화, 물리 주소(MAC)를 이용한 통신, 오류 검출 등의 기능 수행
  ### 기능
  - 프레이밍: 데이터 경계 식별을 위해 양 끝에 특정 패턴 추가
  - 주소 지정: 프레임에 물리적 주소(MAC) 부여
  - 오류 검출 및 수정: 체크섬 같은 다양한 기술에 사용
  - 흐름 제어: 송신 측과 수신 측 사이에 데이터 처리 속도 조절. 수신 측이 처리할 수 있는 범위 내에서 데이터 전송
  - 매체 접근 제어: 여러 장치같은 통신 매체를 공유할 때 충돌 없이 효율적으로 매체에 접근, 제어
## 4.1.2 통신 방법
  ### 단방향 통신 (Simplex)
  - 송신 측과 수신 측이 미리 정해져 있으며, 데이터는 한 방향으로만 전송되는 통신 방식
  - 송신 측과 수신 측을 연결하는 전송 경로가 필요
  - 예시: 무선 호출기, 라디오, 아날로그 TV 방송, 키보드 등
  ### 양방향 통신 (Duplex)
  - 데이터를 양 방향으로 송수신할 수 있는 통신 방식
  - 반이중 통신과 전이중 통식으로 나뉨

## 4.1.3 양방향 통신
  ### 반이중 통신 (Half Duplex)
  - 동시에 데이터를 송수신할 수 없는 방식. 즉, 송신과 수신이 번갈아가며 이루어짐
  - 예시: 휴대용 무전기
  ### 전이중 통신 (Full Duplex)
  - 동시에 양방향 통신을 수행할 수 있는 방식. 즉, 데이터가 양쪽으로 동시에 전송됨
  - 예시: 전화 통화, 이더넷, Wi-Fi

## 4.1.4 CSMA/CD (Carrier Sense Multiple Access with Collision Detection) ☆
  - 이더넷과 같은 배포된 물리 네트워크에서 주로 사용됨
  - 충돌 감지를 통해 여러 장치가 동시에 데이터를 전송하지 않도록 제어함. 충돌을 감짖하고 그에 대응하기 위해 물리적으로 데이터 전송을 감지하고 정지시키는 기술 사용
  - 충돌 시 브로드캐스트로 모두에게 알리고, 랜덤 시간이 지나고 다시 데이터 전송
## 4.1.5 CSMA/CA (Carrier Sense Multiple Access with Collision Avoidance)
  - 무선 네트워크에서 사용되는 프로토콜로 주로 Wi-Fi 와 같은기술에서 사용됨
  - 물리적인 충돌을 감지하는 것이 어려운 무선 환경에서 충돌을 피하기 위한 방법 제공
  - 전송하기 전에 채널이 사용 가능한지  확인하고 충돌을 피하기 위한 절차를 따름

# 4.2 주요 장비
## 4.2.1 브리지 (Bridge)
  - 두 개의 근거리 통신망(LAN)을 상호접속해주는 통신망 연결 장치
  - 통신망의 범위와 길이를 확장
  - 통신망에 더욱 많은 컴퓨터들을 연결
  - 서로 다른 통신망 구조의 통신망을 연결할 때 등에 사용 가능
  - 초기 네트워크에서 트래픽 관리를 위해 사용되었으며, 이후에는 스위치로 발전하면서 스위치가 브리지의 역할을 대부분 수행
  - MAC 주소를 알아야 함 (VS 리피터)
## 4.2.2 스위치 (Switch)
  - 데이터 충돌이 발생하지 않음
  - 전자기파 방식으로 전송
  - 스위치가 각 포트를 독립적 충돌 도메인으로 관리하며, 한 번에 여러 통신을 동시에 처리할 수 있기 때문

# 4.3 MAC 주소
## 4.3.1 MAC 주소 (MAC Address)
  - 네트워크 장비가 네트워크 상에서 고유하게 식별되기 위해 사용하는 고유한 식별자
  - MAC 주소는 NIC에 할당되어 있으며, 이 주소를 통해 네트워크에서 데이터를 주고받는 장비를 식별
## 4.3.2 MAC 주소 형식
  - 48 Bit (6 Byte), 16진수로 표현됨 (예시: 00-1A-7D-DA-71-C4)
  - 터미널에서는 해당 명령어로 확인 가능 (Windows: ipconfig /all, getmac /v) (Linux: ifconfig)

# 4.4 스위치 기능
## 4.4.1 MAC 주소 테이블 (MAC Address Table)
  - 스위치는 연결된 장치들의 MAC 주소를 MAC 주소 테이블에 저장함
  - 스위치가 프레임을 더 빠르고 효율적으로 전달할 수 있게 도움
## 4.4.2 플러딩 (Flooding)
  - 스위치는 처음 부팅할 때 네트워크 관련 정보가 없음. 이 상태에서 패킷이 들어오면, 스위치는 허브와 같이 모든 포트로 패킷을 전송함
  - 스위치는 LAN에서 동작하므로, 자신이 정보를 가지고 있지 않더라도 어딘가에 장비가 있을 수 있다고 가정하고 이와 같은 작업을 수행함
## 4.4.3 어드레스 러닝 (Address Learning)
  - 패킷이 특정 포트에 들어오면 스위치는 해당 패킷의 출발지 MAC 주소와 포트 번호를 MAC 주소 테이블에 기록
  - 출발지 MAC 주소 정보만 사용하므로, 브로드캐스트나 멀티캐스트에 대한 MAC 주소는 학습하지 못함
## 4.4.4 포워딩/필터링 (Forwarding / Filtering)
  - 패킷이 스위치에 들어온 경우, 스위치는 도착지 MAC 주소를 확인하고 자신이 갖고 있는 MAC 테이블과 비교함
  - 매치되는 정보가 있으면 해당 포인트로 패킷을 전달(Forwarding)하고 다른 포트로는 패킷을 보내지 않음(Filtering)
  - 이러한 기능을 통해 스위치는 패킷을 효율적으로 목적지로만 전달하도록 동작
## 4.4.5 스패닝 트리 프로토콜 (Spanning Tree Protocol, STP)
  - 네트워크에서 발생할 수 있는 루프 현상을 방지하기 위한 프로토콜
  - 루프 현상을 방지하기 위해 네트워크 내의 스위치들 사이에서 정보를 교환하며, 가장 효율적인 통신 경로를 생성 -> 트리 구조임 => 스패닝 트리 
### Broadcasting Storm
  - 브로드캐스트 패킷이 네트워크 내에서 무한히 순환하는 현상
  - 네트워크 내에 루프 경로가 존재할 때 발생

# 4.5 프로토콜 (Protocol) ★
## 4.5.1 이더넷 (Ethernet)
  - LAN에서 가장 널리 사용되는 데이터 링크 프로토콜 중 하나
  - IEEE 802.3 표준을 기반으로 하며, MAC 주소를 사용하여 네트워크 상의 장치들을 식별
  - 주로 CSMA/CD 방식을 사용하여 충돌을 감지하고 해결
### IEEE 802.3
  - 유선 LAN 기술의 표준을 정의
  - 데이터 전송 속도, 프레임 구조, 매체 종류 등을 표준화하여 호환성 유지
### 이더넷 프레임 (맥 프레임) 
  - Preamble: 프레임의 시작을 알리는 신호, 7바이트로 구성되어 있으며 수신 장치가 동기화를 맞추고 프레임의 시작을 인식
  - SFD (Start of Frame Delimeter): 프레임의 시작을 표시하는 1바이트 필드
### 이더넷 헤더
  - DA (Destination MAC Address): 목적지의 MAC 주소
  - SA (Source MAC Address): 출발지의 MAC 주소
  - Len/Type: 길이 또는 타입 
  - Payload: 상위 계층의 프로토콜로부터 캡슐화된 데이터. 46~1500 byte, 상위 계층의 패킷의 길이가 46 byte보다 작을 때, 끝에 padding(0)으로 채움
## 4.5.2 MTU (Maximum Transmission Unit) ★
  - 네트워크에서 한 번에 전송 가능한 데이터 패킷의 최대 크기
  - MTU를 초과하는 크기의 데이터는 작은 패킷으로 분할되어 전송
  - 수신자는 이러한 작은 패킷을 받아 원래의 큰 데이터로 조립
  - 이더넷 표준은 1500 byte
  - MTU가 커지면 오버헤드(어떤 자원을 수행하기 위해 필요한 부가적인 비용이나 지원)가 증가
## 4.5.3 LLC (Logical Link Control)
(추후 설명)
## 4.5.4 Wi-Fi (Wireless Fidelity)
  - 무선 네트워킹 기술로, IEEE 802.11 표준에 따라 개발됨
  - Wi-Fi를 통해 컴퓨터, 스마트폰, 기타 무선 장치들이 인터넷에 연결되거나 서로 통신할 수 있음
  - 일반적으로 2.4GHZz와 5GHz라는 두 개의 주파수 대역을 사용하며, 이는 각각 IEEE 802.11n과 802.11ac 표준에 따라 사용됨
  (2.4GHz: 비교적 빠름, 장애물 영향 덜 받음, 넓은 범위 / 5GHz: 비교적 빠름, 장애물 영향 많이 받음, 좁은 범위)
## 4.5.5 VLAN (Virtual LAN)
  - 물리적으로 분리되지 않은 네트워크 장치들을 Broadcast Domain을 논리적으로 그룹화하여 독립된 네트워크를 생성하는 기술
  - 네트워크 트래픽을 관리하고 보안을 강화할 수 있음
  - VLAN은 스위치 내에서 설정되며, 각 VLAN에 속한 장치들은 서로 다른 VLAN에 속한 장치들과는 통신이 제한됨
### 802.1Q
  - VLAN을 구현하기 위한 IEEE 표준.
  - 패킷 정보에 4 Byte의 VLAN 태그를 추가하여 VLAN을 식별함
  - VLAN 태그에는 VLAN ID가 포함되어 있어, 스위치는 이 정보를 이용해 패킷을 적절한 VLAN으로 라우팅함
#### 필드 종류
  - TPID (Tag Protocol Identifier): 태그 식별 필드
  - PCP (Priority Code Point): 0~7의 우선 순위 (0이 보통, 7이 우선 순위 가장 높음)
  - DEI (Drop Eligible Indicator): PCP와는 별도로, 또는 결합해서 쓰이며 트래픽이 혼잡해질 때 제거되기 적합한 프레임들을 가리키는 데 사용
  - VID (VLAN Identifier): VLAN 식별자를 나타내는 12비트 필드, 총 4,096개 중 0과 0xFF를 제외한 4,904개의 VLAN 식별 가능